
程俊皓

2022.1.5

## 一、计算题(6'+6'+5'+5')

1. 设机器数字长为8位（含1位符号位），$A=-11/16,B=23/32$，用补码运算规则计算$A+B,A-B$，并说明运算结果是否溢出（要求用双符号位方案）

2. 用原码一位乘计算$x·y$，$x=0.11011,y=-0.11101$

3. 某规格化浮点数字长16位，阶码在前、尾数在后，其中尾数10位(含1位数符)，阶码6位(含1位阶符)，阶码和尾数都用补码表示

   （1）求此规格化浮点数表示的最大负数的编码（用16进制表示）

   （2）若浮点数代码为$C7F7H$，求其真值

4. 设相对寻址的转移指令占两个字节，第一个字节是操作码，第二个字节是相对位移量，用补码表示。假设当前转移指令第一字节所在的地址为3000H，且CPU每取出一个字节便自动完成（PC）+1→PC的操作。试问当执行"$JMP ^*+5$"和"$JMP ^*-7$"指令时，转移指令第二字节的内容各为多少？转移到的目标指令地址（操作数的有效地址）是多少？

## 二、简答题(6'*6)

1. **试比较静态RAM和动态RAM的特点**

*参考答案要点：*

1）静态RAM：依靠双稳态触发器保存二进制代码，只要不断电，信息就不会丢失；功耗较大，集成度较低，速度快，每位价格高，适合于作Cache或存取速度要求较高的小容量主存。

2）动态RAM：依靠电容存储电荷来保存二进制代码，需刷新电路进行动态刷新，存取速度较慢；功耗小，集成度高，每位价格低，适合于作大容量主存。

2. **简述主机与磁盘控制器交换信息时采用DMA方式而不是程序中断方式的原因，并简述二者的不同点**

*参考答案要点：*

因为主机与磁盘控制器交换信息要求大批量数据高速传输，后者无法达到。

**不同点体现为如下几个方面**：1）**数据传送：**程序中断方式通过软件（中断服务程序）来完成信息交换；而DMA方式则是通过硬件(DMA控制器）来实现的。2）**响应时间：**前者在一条指令执行结束时响应，后者在一个存取周期结束时响应；3）**随机事件处理能力：**中断传送方式不仅适合于一般的信息交换，还适合对随机事件的处理；DMA方式仅适合简单数据的高速传输；4）**工作过程：**前者是程序切换，需保存现场；后者是总线占有权的 切换，无需保存现场**。**

3. **画图并说明微程序控制器中是如何根据操作码形成相应微程序入口地址的**

*参考答案要点：*

 如上图所示，机器指令取至指令寄存器后，指令的操作码作为微地址形成部件的输入，来形成微指令的地址。因此，可以把微地址形成部件理解为一个编码器。微地址形成部件可采用PROM实现，即以指令的操作码作为PROM的地址，而相应的存储单元中就存放着对应该指令微程序的首地址。

4. **计算机是如何区分存储器中的指令和数据的**

*参考答案要点：*

CPU可通过两种手段来区分访存取来的是指令还是数据。

1）通过不同的时间段区分：在指令的取指阶段访存取出的是指令；在指令的执行阶段访存取来的即为操作数，也就是数据。

2）通过不同的地址来源和目的地址区分：由PC提供访存地址，取来的即为指令，送往指令寄存器IR；由指令的地址码部分提供访存地址取来的是操作数（数据），送往数据寄存器。

5. 举例说明操作码扩展，其中指令字长为16位，地址字段6位

   

6. **简述寻找中断服务程序入口地址的两种方法，各有何特点**

*参考答案要点：*

1）硬件向量法：利用分散设置在各个接口电路或设置在CPU芯片内的专门硬件（向量地址形成部件）产生向量地址，再根据向量地址访问相应内存单元，其内容即为中断服务程序入口地址。该方法速度快，被现代计算机普遍采用。

2）软件查询法：利用中断识别程序，按中断源的优先级从高到低，依次查询是哪个中断源发出的中断请求。当查询到某一中断源有中断请求时，通过无条件转移指令，直接跳转到该中断源的中断服务程序入口，机器便能自动进入中断处理。该方法可灵活改变中断源的优先级，控制方便，但查询时间较长。

## 三、分析题(8'+13')

1.用卡诺图法化简下列函数，并画出化简后的逻辑电路图。$F(A,B,C,D)=\Sigma(0,3,4,5,6,7,8,10,13,15)$

2.**设CPU内部结构如图所示，此外还设有$R_1-R_4$个寄存器，它们各自的输人和输出端都与内部总线相通，并分别受控制信号控制(如$R_{2i}$为寄存器$R_2$的输人控制;$R_{2o}$为寄存器$R_2$的输出控制)。要求从取指令开始,写出完成下列指令所需的全部微操作和控制信号。**

**SUB $R_1$，$@mem$ ; (($R_1$)- (($mem$))→$R_1$,存储器间接寻址)**

## 四、设计题(9'+12')

1.**设某机主存容量为4MB，Cache容量为16KB，每字块有8个字，每字32位，设计一个四路组相联映射（即Cache每组内共有4个字块）的Cache组织。**
 **（1）画出主存地址字段中各段的位数**

 **（2）写出内存地址？可能映射成的Cache地址（用16进制表示）**

 （3）若改为二路组相联映射，CPU从主存第87个单元读对应的Cache组地址为

2.设CPU有16根地址线，8根数据线，用 $\overline{MREQ} $（低电平有效）作访存控制信号，$R/\overline{W}$ 作读写控制信号（高电平为读，低电平为写），现有2K×8位的ROM芯片，1K×8位，4K×4位的RAM芯片，以及3-8译码器和各种门电路，拓展出5×8K.画出CPU与存储器连接图，图中标明信号线的方向、种类和条数；并写出每片RAM芯片的地址范围（用十六进制描述)