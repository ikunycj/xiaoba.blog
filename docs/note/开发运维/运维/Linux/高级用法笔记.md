# 一.各类实用小技巧
1. ctrl+c                       强制停止/退出当前输入
2. ctrl+d                      退出或者登出（不可用于退出vim—退出vi/vim用;wq）
3. history                     查看历史命令
    !命令前缀                自动执行上一次匹配前缀的命令   
    ctrl+r                       输入命令匹配历史命令，回车执行，鼠标左右键得到命令(不执行)
4. 光标移动快捷键
   ctrl+a                       跳到命令开头
   ctrl+e                       跳到命令结尾




 1. 清屏
    ctrl+l/clear                        清空终端内容
# 二.shell脚本
### 1.脚本格式要求
1. 脚本需要以`#!/bin/bash`开头
2. 脚本要有可执行权限
3. 脚本文件默认一`.sh`结尾
### 2.脚本常用执行方式
1. 输入脚本的相对或者绝对路径（需要使用chmod个u赋予x权限）（或者直接7XX直接给权限）
2. `sh 脚本文件名`（不需要赋予脚本x权限可以直接执行）
### 3.shell变量
##### 1.shell变量介绍
1. Linux Shell中的变量分为系统变量和用户自定义变量
2. 系统变量:$HOME $PWD $SHELL $USER等
3. 显示当前Shell中所有变量：`set`
##### 2.shell变量的定义
1. 定义变量`变量名=值`
2. 撤销变量`unset 变量名`
3. 声明静态变量`readonly 变量`
4. 声明全局环境变量
### 4.shell变量定义
##### 1.定义变量规则
1. 变量名称可以有==数字字母==和==下划线`-`==组成，但是不能以数字开头
2. 等号两侧不能有空格
3. 变量名称一般习惯==大写==
##### 2.将命令的返回值赋值给变量
1. A=\`date\`反引号，运行里面的命令，把结果返回给变量A
2. A=$(date)  括号，运行里面的命令，把结果返回给变量A
### 5.设置环境变量
##### 1.基本语法
1. `export 变量名=变量值`（将shell输出设置为环境变量）
2. `source 配置文件`         （让修改后的配置信息立即生效）
3. `echo $变量名`             （查询环境变量的值）
### 6.vim注释
1. 单行注释：
`#`前缀

2. 多行注释：
`:<<!`
代码块
`!` 
### 7.位置参数变量
位置参数变量是在Shell脚本中用来存储和访问在脚本运行时传递给它的参数值的一种机制。这些参数值根据它们在命令行中的位置被分配给不同的变量。通常，Shell脚本中的位置参数变量是以 `$` 符号和数字来表示的，其中 `$0` 表示脚本本身的名称，`$1` 表示第一个参数，`$2` 表示第二个参数，以此类推。以下是位置参数变量的基本语法和用法展开：
sh shelltry.sh 1 2
1. `$0`：脚本本身的名称。
  - 例如，如果你有一个脚本文件 `myscript.sh`，那么 `$0` 将包含字符串 `"myscript.sh"`。
  
2. `$1`, `$2`, `$3`, ...：用于存储传递给脚本的参数值。
   - `$1` 表示第一个参数，`$2` 表示第二个参数，以此类推。
   - 例如，如果你运行脚本 `./myscript.sh arg1 arg2`，那么 `$1` 将包含 `"arg1"`，`$2` 将包含 `"arg2"`。

3. `$#`：用于获取传递给脚本的参数数量。
 - 例如，如果你运行脚本 `./myscript.sh arg1 arg2`，那么 `$#` 将包含值 `2`，因为有两个参数。

4. `$*` 和 `$@`：用于获取所有参数的值。
  - `$*` 表示将所有参数当作一个单词（字符串）处理。
  - `$@` 表示将所有参数分开处理，每个参数都是一个单独的字符串。
  - 这些变量通常用在循环中来遍历所有参数。


以下是一个示例Shell脚本，演示了如何使用位置参数变量：
```bash
#!/bin/bash

echo "脚本名称: $0"
echo "第一个参数: $1"
echo "第二个参数: $2"
echo "传递给脚本的参数数量: $#"
echo "所有参数作为一个字符串: $*"
echo "所有参数分开处理: $@"

```
假设你运行这个脚本如下：
```bash
./myscript.sh arg1 arg2 arg3
```

脚本将输出：
```bash
脚本名称: ./myscript.sh
第一个参数: arg1
第二个参数: arg2
传递给脚本的参数数量: 3
所有参数作为一个字符串: arg1 arg2 arg3
所有参数分开处理: arg1 arg2 arg3
```
### 8.预定义变量
预定义变量是在Shell脚本中内置的特殊变量，它们提供了关于当前Shell环境和系统状态的信息。这些变量可以帮助你编写更灵活和适应不同环境的脚本。以下是一些常见的预定义变量和它们的基本介绍以及基本语法：

1. `$0`：脚本本身的名称。
2. `$#`：传递给脚本的参数数量。
3. `$*`：将所有参数视为一个单词（字符串）。
4. `$@`：将所有参数分开处理，每个参数都是一个单独的字符串。
5. `$?`：上一个命令的退出状态码（返回值）。
6. `$$`：当前Shell进程的进程ID（PID）。
7. `$!`：最后一个在后台运行的作业（job）的进程ID。
8. `$USER`：当前用户的用户名。
9. `$HOME`：当前用户的主目录路径。
10. `$PWD`：当前工作目录的路径。
11. `$SHELL`：当前用户的默认Shell解释器的路径。
12. `$HOSTNAME`：当前主机的主机名。

### 9.运算符
##### 1.基本语法
1. `$((运算式))`或`expr m + n`(注意expr运算式之间要有空格)     `$[ 运算式 ]`（已淘汰）
##### 2.算术运算符：
- `+`：加法
- `-`：减法 
- `*`：乘法"（在exper中要在`*`前面加上`\`作为转义符）
- `/`：除法
- `%`：取模（取余）
##### 3.比较运算符：（`[ 被判断的样本 ]`）是条件判断符号
==中括号和被判断样本直接要有空格==
- `-eq`：等于         equal
- `-ne`：不等于      npot equal
- `-lt`：小于          little
- `-le`：小于等于   little equal
- `-gt`：大于           grater
- `-ge`：大于等于     garter equal
##### 4.逻辑运算符：
- `&&`：逻辑与（AND）只有命令1为真(即成功被执行，返回0），命令2才能够被执行。
- `||`：逻辑或（OR）    如果命令1执行失败，那么就执行命令2。
- `!`：逻辑非（NOT)
##### 5.赋值运算符：
- `=`：赋值
- `+=`：追加赋值
- `-=`：减法赋值
- `*=`：乘法赋值
- `/=`：除法赋值
- `%=`：取模赋值
##### 6.字符串运算符：
- `=`：字符串相等
- `!=`：字符串不相等
- `-z`：字符串为空
- `-n`：字符串不为空
### 10基本语句
##### **1.条件判断**
`[ 判断语句 ]`
非空返回true，可使用`$?`验证*（0为true，>1为false）*
中括号和判断语句之间==必须==要有==空格==
##### **2.if语句**：用于根据条件执行命令块。*（fi为if的结束语句）*
```bash
if [ 条件 ]
then
    # 条件为真时执行的代码
else
    # 条件为假时执行的代码(可选)
fi
```

##### **3.elif语句**：用于多条件判断。
```bash
if [ 条件1 ]
then
    # 条件1为真时执行的代码
elif [ 条件2 ]
then
    # 条件2为真时执行的代码
else:
    # 所有条件都不满足时执行的代码(可选)
if
```
##### **4.case语句**
```bash
case 变量 in
    模式1)
        # 匹配模式1时执行的命令
        ;;
    模式2)
        # 匹配模式2时执行的命令
        ;;#两个分号代表结束
    *)
        # 没有匹配任何模式时执行的命令
        ;;
esac
```
- `case` 后面跟着要匹配的变量（通常是字符串或整数）。
- `in` 标记了要匹配的模式的开始。
- 每个模式后面跟着 `)`，然后是要执行的命令块，以 `;;` 结束。
- `*)` 是可选的默认情况，用于在没有匹配任何模式时执行的命令块。
- `esac` 用于标记 `case` 语句的结束。

**例子**
```bash
#!/bin/bash

fruit="apple"

case $fruit in
    "apple")
        echo "这是苹果"
        ;;
    "banana")
        echo "这是香蕉"
        ;;
    *)
        echo "不知道是什么水果"
        ;;
esac

```
##### **5.for循环**
基本语法一
```bash
for 变量 in 值1 值2 值3 ......
do
    # 在循环中执行的命令
done
```

基本语法二
```bash
for (( 初始值; 循环控制条件; 变量变化 ))
do
    # 在循环中执行的命令
done
```
##### **6.while循环**
`while` 循环是一种在Shell脚本中用于反复执行一组命令，只要指定的条件为真（true）就会继续执行。当条件不再满足时，循环停止执行。`while` 循环的基本语法如下：
```bash
while [ 条件判断 ]
do
    # 在循环中执行的命令
done
```
- `while` 是关键字，表示开始一个 `while` 循环。
- `条件` 是一个用于判断真假的表达式。只要条件为真，循环将继续执行；一旦条件为假，循环将停止执行。
- `do` 标记了循环体的开始。
- 在 `do` 和 `done` 之间的部分是循环体，包含要在每次循环中执行的命令。
`while` 循环会在每次迭代中首先检查条件。如果条件为真，它会执行循环体中的命令，然后再次检查条件。只有在条件为假时，循环停止执行，控制流继续往下执行。
##### **7.until循环**
`   until` 是一个在Bash脚本中用于创建循环的关键字。`until` 循环与 `while` 循环非常相似，但它们的条件判断方式相反。`until` 循环会一直执行循环体，直到条件为真（true）为止。当条件为真时，循环结束。与此不同，`while` 循环会一直执行循环体，直到条件为假（false）为止。

==基本语法==：
```bash
until 条件  #当条件为true退出循环，否则一直持续
do
    # 在循环中执行的命令
done
```

==`until` 循环的工作流程如下：==
1. 首先，检查 `条件` 是否为假（false）。
2. 如果条件为假，执行循环体中的命令，并继续循环。
3. 如果条件为真，退出循环，循环结束。

在 `until` 循环中，只要条件为假，循环体就会被执行。当条件变为真时，循环停止执行。

==示例：==
```bash
#!/bin/bash

count=1

until [ $count -gt 5 ]; do
    echo "循环次数: $count"
    count=$((count + 1))
done
```
在这个示例中，`until` 循环会一直执行，直到 `$count` 变量的值大于5。循环体中会输出循环的次数，然后逐渐增加 `$count` 的值，直到条件满足为止。

`until` 循环通常用于需要等待某个条件变为真的情况，然后再执行特定操作的场景，例如等待用户输入正确的密码或等待某个事件发生。
##### **8.read读取控制台输入**
基本语法：
```bash
read (选项) 变量名
```
选项：
`-p`:   指定读取时的提示信息
`-t`：指定读取等待时间，若超时则不等待
```bash
echo "What's your name?"
read name
echo "Hello, $name!"
```

```bash
read -p "Please enter your age: " age
echo "You entered $age years old."
```

```bash
if read -t 5 -p "Enter your choice (within 5 seconds): " choice; then
    echo "You chose: $choice"
else
    echo "No input received within 5 seconds."
fi
```
### 11.test命令操作符
`test` 命令是一个用于在Shell脚本中执行条件测试的命令。它允许你测试各种条件，并返回一个退出状态码（0表示条件为真，1表示条件为假），以便在脚本中进行条件判断。
`test` 命令通常使用一些操作符来执行不同类型的条件测试。以下是一些常见的 `test` 命令操作符及其用法：

##### **1.文件测试操作符**：
- `-e 文件路径`：检查文件是否存在。
- `-f 文件路径`：检查文件是否是一个普通文件。
- `-d 目录路径`：检查路径是否是一个目录。
- `-r 文件路径`：检查文件是否可读。
- `-w 文件路径`：检查文件是否可写。
- `-x 文件路径`：检查文件是否可执行。
```bash
if [ -e /path/to/file ]; then
    echo "文件存在"
fi
```

##### **2.字符串比较操作符**：
- `字符串1 = 字符串2`：检查两个字符串是否相等。
- `字符串1 != 字符串2`：检查两个字符串是否不相等。
- `-n 字符串`：检查字符串是否非空。
- `-z 字符串`：检查字符串是否为空。
```bash
if [ "$str1" = "$str2" ]; then
    echo "字符串相等"
fi
```
##### **3.整数比较操作符**：
- `整数1 -eq 整数2`：检查两个整数是否相等。
- `整数1 -ne 整数2`：检查两个整数是否不相等。
- `整数1 -lt 整数2`：检查整数1是否小于整数2。
- `整数1 -le 整数2`：检查整数1是否小于等于整数2。
- `整数1 -gt 整数2`：检查整数1是否大于整数2。
- `整数1 -ge 整数2`：检查整数1是否大于等于整数2。
```bash
if [ $num1 -eq $num2 ]; then
    echo "整数相等"
fi
```
##### **4.逻辑操作符**
- `! 表达式`：逻辑非，反转表达式的真假。
- `表达式1 -a 表达式2`：逻辑与，当两个表达式都为真时为真。
- `表达式1 -o 表达式2`：逻辑或，当至少一个表达式为真时为真。
```bash
if [ ! -e /path/to/file ]; then
    echo "文件不存在"
fi
```
# 三.软件安装
## 1.使用apt程序安装软件(Ubuntu)
<span style="color: red;">1.apt：</span>
语法： apt  [ -y]  [install/remove/search]  软件名称（同下）
## 2.使用yum程序安装软件(Centos)
<span style="color: red;">1.yum：</span>
  RPM软件管理器，用于自动化安装配置Linux软件，并可以自动解决依赖问题。
  语法：yum  [-y]   [install/remove/search]   软件名称
  <span style="font-size: small; color: gray;">&middot; 选项-y，自动确认，无需手动确认安装或者卸载
  &middot; 需要root权限或者使用sudo
  &middot; 需要联网<span>
